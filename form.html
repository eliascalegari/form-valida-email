<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html">
        <title> Validação de E-mail com JavaScript</title>
        <script language="Javascript">
            function validacaoEmail(field) {
                usuario = field.value.substring(0, field.value.indexOf("@"));
                dominio = field.value.substring(field.value.indexOf("@")+ 1, field.value.length);
                if ((usuario.length >=1) && (usuario.length <=64) &&
                    (usuario.search(" ")==-1) &&
                    (usuario.search("@")==-1) &&
                    (usuario.indexOf('.')!==0) && 
                    (usuario.indexOf("..")==-1) &&
                    (usuario.lastIndexOf('.') < usuario.length - 1) &&
                    (dominio.search("@")==-1) &&
                    (dominio.length >=3) &&
                    (dominio.search(" ")==-1) &&
                    (dominio.indexOf("..")==-1) &&
                    (dominio.search(".")!=-1) &&
                    (dominio.indexOf('.')!==0) && 
                    (dominio.lastIndexOf(".") < dominio.length - 1)) {
                    document.getElementById("msgemail").innerHTML="<font color='green'>E-mail válido";
                    alert("email valido");
                }
                else{
                    document.getElementById("msgemail").innerHTML="<font color='red'>Email inválido </font>";
                    alert("E-mail invalido");
                }
            }
        </script>
    </head>
    <body>
        <form name="f1">
            <h3> Validação de E-mail com JavaScript</h3>
                <hr color='gray'>
                    <table>
                        <tr>
                            <td>
                            E-mail:
                                <input type="text" name="email" onblur="validacaoEmail(f1.email)"  maxlength="100" size='65'>
                            </td>

                            <td>
                                <div id="msgemail"></div>
                            </td>
                        </tr>
                    </table>
                <hr>
            <button>Testar</button>
        </form>
    </body>
</html>
